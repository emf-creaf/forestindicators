<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Indicator estimation procedures • forestindicators</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Indicator estimation procedures">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">forestindicators</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/IndicatorDefinition.html">Defining new indicators</a></li>
    <li><a class="dropdown-item" href="../articles/IndicatorEstimation.html">Indicator estimation procedures</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/emf-creaf/forestindicators/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Indicator estimation procedures</h1>
                        <h4 data-toc-skip class="author">Miquel De
Cáceres / Núria Aquilué</h4>
            
            <h4 data-toc-skip class="date">2025-11-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/emf-creaf/forestindicators/blob/HEAD/vignettes/IndicatorEstimation.Rmd" class="external-link"><code>vignettes/IndicatorEstimation.Rmd</code></a></small>
      <div class="d-none name"><code>IndicatorEstimation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In this vignette, you will learn:</p>
<ol style="list-style-type: decimal">
<li>How to format your data for indicator estimation.</li>
<li>How to discover which indicator functions are available, their data
requirements and additional parameters.</li>
<li>How to perform the estimation of multiple indicators at once.</li>
</ol>
</div>
<div class="section level2">
<h2 id="data-frame-inputs">Data frame inputs<a class="anchor" aria-label="anchor" href="#data-frame-inputs"></a>
</h2>
<p>Data inputs for the estimation of indicators are data frames. Not all
indicators require the same inputs, and the data frames can be of four
different kinds, depending on:</p>
<ul>
<li>Whether they describe <em>stand-level</em> vs. <em>plant-level</em>
data</li>
<li>Whether they contain <em>static</em> vs. <em>dynamic</em> data</li>
</ul>
<p>The following subsections provide examples of the four different data
frames. A single indicator may only need data of one kind
(e.g. plant-level dynamic data), but when calculating several indicators
at once, one may end-up supplying more than one data frame.</p>
<div class="section level3">
<h3 id="stand-level-static-data">Stand-level static data<a class="anchor" aria-label="anchor" href="#stand-level-static-data"></a>
</h3>
<p>This data frame contains <strong>STAND-level</strong> information
that <strong>DOES NOT change through time</strong>, such as topographic
features, the area represented, etc.</p>
<p>The actual columns will depend on the indicator to be calculated, but
at least a column <code>id_stand</code> (character) should be defined to
identify stands. An example of stand-level static data frame is the
following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_stand_static_input</span></span>
<span><span class="co">#&gt;   id_stand  area slope</span></span>
<span><span class="co">#&gt; 1   080001  14.3   5.1</span></span>
<span><span class="co">#&gt; 2   080002 362.6   3.1</span></span>
<span><span class="co">#&gt; 3   080003 319.6   8.9</span></span>
<span><span class="co">#&gt; 4   080004 635.2   4.4</span></span>
<span><span class="co">#&gt; 5   080005 774.8   8.9</span></span>
<span><span class="co">#&gt; 6   080006 166.6   5.3</span></span>
<span><span class="co">#&gt; 7   080007 368.0   4.7</span></span>
<span><span class="co">#&gt; 8   080008 945.9   4.3</span></span>
<span><span class="co">#&gt; 9   080009 548.9   1.4</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="stand-level-dynamic-data">Stand-level dynamic data<a class="anchor" aria-label="anchor" href="#stand-level-dynamic-data"></a>
</h3>
<p>This data frame contains <strong>STAND-level</strong> information
that <strong>DOES change through time</strong>, such as temperature,
precipitation, the stand leaf area index, canopy cover, etc.</p>
<p>The actual columns will depend on the indicator to be calculated, but
at least columns <code>id_stand</code> (character) and <code>date</code>
(Date) should be defined to identify stands and time points,
respectively. An example of stand-level dynamic data frame is the
following:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_stand_dynamic_input</span></span>
<span><span class="co">#&gt;    id_stand       date mean_precipitation canopy_cover</span></span>
<span><span class="co">#&gt; 1    080001 2025-01-01              353.2          8.4</span></span>
<span><span class="co">#&gt; 2    080002 2025-01-01              355.1         63.2</span></span>
<span><span class="co">#&gt; 3    080003 2025-01-01              377.0         68.9</span></span>
<span><span class="co">#&gt; 4    080004 2025-01-01              836.6         24.8</span></span>
<span><span class="co">#&gt; 5    080005 2025-01-01              742.4         45.4</span></span>
<span><span class="co">#&gt; 6    080006 2025-01-01              405.7         12.7</span></span>
<span><span class="co">#&gt; 7    080007 2025-01-01              103.3         96.3</span></span>
<span><span class="co">#&gt; 8    080008 2025-01-01              561.8          1.6</span></span>
<span><span class="co">#&gt; 9    080009 2025-01-01              522.1         10.6</span></span>
<span><span class="co">#&gt; 10   080001 2025-02-01              383.2         22.5</span></span>
<span><span class="co">#&gt; 11   080002 2025-02-01              511.2         85.9</span></span>
<span><span class="co">#&gt; 12   080003 2025-02-01              552.0         61.7</span></span>
<span><span class="co">#&gt; 13   080004 2025-02-01              813.3         32.9</span></span>
<span><span class="co">#&gt; 14   080005 2025-02-01              368.0         50.7</span></span>
<span><span class="co">#&gt; 15   080006 2025-02-01              436.1         30.2</span></span>
<span><span class="co">#&gt; 16   080007 2025-02-01              867.9         51.0</span></span>
<span><span class="co">#&gt; 17   080008 2025-02-01              304.6         85.8</span></span>
<span><span class="co">#&gt; 18   080009 2025-02-01              349.1         67.8</span></span>
<span><span class="co">#&gt; 19   080001 2025-03-01               46.3         44.1</span></span>
<span><span class="co">#&gt; 20   080002 2025-03-01              335.6         33.1</span></span>
<span><span class="co">#&gt; 21   080003 2025-03-01              509.6         96.3</span></span>
<span><span class="co">#&gt; 22   080004 2025-03-01              824.6         59.1</span></span>
<span><span class="co">#&gt; 23   080005 2025-03-01              607.5         76.7</span></span>
<span><span class="co">#&gt; 24   080006 2025-03-01              554.8         57.4</span></span>
<span><span class="co">#&gt; 25   080007 2025-03-01              710.4         43.8</span></span>
<span><span class="co">#&gt; 26   080008 2025-03-01              111.7         17.6</span></span>
<span><span class="co">#&gt; 27   080009 2025-03-01              623.2         12.1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plant-level-static-data">Plant-level static data<a class="anchor" aria-label="anchor" href="#plant-level-static-data"></a>
</h3>
<p>This data frame contains <strong>PLANT-level</strong> information
that <strong>DOES NOT change through time</strong>, such as taxonomy,
traits, etc.</p>
<p>The actual columns will depend on the indicator to be calculated, but
at least a columns <code>id_stand</code> (character) and
<code>plant_entity</code> (character) should be defined to identify
stands and plants, respectively. An example of plant-level static data
frame is the following:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_plant_static_input</span></span>
<span><span class="co">#&gt;    id_stand     plant_entity beautiness</span></span>
<span><span class="co">#&gt; 1    080001 Pinus halepensis       0.26</span></span>
<span><span class="co">#&gt; 2    080002 Pinus halepensis       0.03</span></span>
<span><span class="co">#&gt; 3    080003 Pinus sylvestris       0.28</span></span>
<span><span class="co">#&gt; 4    080004 Pinus sylvestris       0.02</span></span>
<span><span class="co">#&gt; 5    080005     Quercus ilex       0.52</span></span>
<span><span class="co">#&gt; 6    080006     Quercus ilex       0.36</span></span>
<span><span class="co">#&gt; 7    080007     Quercus ilex       0.51</span></span>
<span><span class="co">#&gt; 8    080008    Quercus suber       0.08</span></span>
<span><span class="co">#&gt; 9    080009    Quercus suber       0.98</span></span>
<span><span class="co">#&gt; 10   080001      Pinus nigra       0.62</span></span>
<span><span class="co">#&gt; 11   080002      Pinus nigra       0.42</span></span>
<span><span class="co">#&gt; 12   080005 Pinus halepensis       0.72</span></span>
<span><span class="co">#&gt; 13   080006 Pinus halepensis       0.43</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plant-level-dynamic-data">Plant-level dynamic data<a class="anchor" aria-label="anchor" href="#plant-level-dynamic-data"></a>
</h3>
<p>This data frame contains <strong>PLANT-level</strong> information
that <strong>DOES change through time</strong>, such as dbh, height,
cover, etc.</p>
<p>The actual columns will depend on the indicator to be calculated, but
at least a columns <code>id_stand</code> (character),
<code>plant_entity</code> (character) and <code>date</code> (Date)
should be defined to identify stands and plants, respectively. An
example of plant-level dynamic data frame is the following:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_plant_dynamic_input</span></span>
<span><span class="co">#&gt;    id_stand     plant_entity       date state  dbh    h   n</span></span>
<span><span class="co">#&gt; 1    080001 Pinus halepensis 2025-01-01  live 18.3 22.3 352</span></span>
<span><span class="co">#&gt; 2    080001 Pinus halepensis 2025-01-01  live 36.5 18.8 891</span></span>
<span><span class="co">#&gt; 3    080001      Pinus nigra 2025-01-01  live 51.1  5.3 644</span></span>
<span><span class="co">#&gt; 4    080001      Pinus nigra 2025-01-01  live 36.9 18.4 543</span></span>
<span><span class="co">#&gt; 5    080001      Pinus nigra 2025-01-01  live 13.9 13.3 852</span></span>
<span><span class="co">#&gt; 6    080001 Pinus halepensis 2025-02-01  live 49.1 17.1 698</span></span>
<span><span class="co">#&gt; 7    080001 Pinus halepensis 2025-02-01  live 24.4  3.2 885</span></span>
<span><span class="co">#&gt; 8    080001      Pinus nigra 2025-02-01  live 12.0 10.1 454</span></span>
<span><span class="co">#&gt; 9    080001      Pinus nigra 2025-02-01  live 45.3 20.6 312</span></span>
<span><span class="co">#&gt; 10   080001      Pinus nigra 2025-02-01  live 35.1 22.5 651</span></span>
<span><span class="co">#&gt; 11   080001 Pinus halepensis 2025-03-01  live 49.8 13.6 424</span></span>
<span><span class="co">#&gt; 12   080001 Pinus halepensis 2025-03-01  live 22.7  4.6 506</span></span>
<span><span class="co">#&gt; 13   080001      Pinus nigra 2025-03-01  live 36.9  6.4  59</span></span>
<span><span class="co">#&gt; 14   080001      Pinus nigra 2025-03-01  live  9.1 15.5 445</span></span>
<span><span class="co">#&gt; 15   080001      Pinus nigra 2025-03-01  live 41.2  9.6 851</span></span>
<span><span class="co">#&gt; 16   080005     Quercus ilex 2025-01-01  live 22.4 18.1 491</span></span>
<span><span class="co">#&gt; 17   080005     Quercus ilex 2025-01-01  live  8.3  5.8 565</span></span>
<span><span class="co">#&gt; 18   080005 Pinus halepensis 2025-01-01  live 40.9 11.7 433</span></span>
<span><span class="co">#&gt; 19   080005     Quercus ilex 2025-02-01  live 44.8 22.7 576</span></span>
<span><span class="co">#&gt; 20   080005     Quercus ilex 2025-02-01  live 33.1 13.1 769</span></span>
<span><span class="co">#&gt; 21   080005 Pinus halepensis 2025-02-01  live 13.9 21.3 904</span></span>
<span><span class="co">#&gt; 22   080005     Quercus ilex 2025-03-01  live 27.4 22.5 118</span></span>
<span><span class="co">#&gt; 23   080005     Quercus ilex 2025-03-01  live 19.5 18.6 818</span></span>
<span><span class="co">#&gt; 24   080005 Pinus halepensis 2025-03-01  live 50.0 12.0 592</span></span>
<span><span class="co">#&gt; 25   080005 Pinus halepensis 2025-03-01  live 11.2 12.5 357</span></span>
<span><span class="co">#&gt; 26   080001 Pinus halepensis 2025-01-01   cut 43.9 18.3  21</span></span>
<span><span class="co">#&gt; 27   080001 Pinus halepensis 2025-01-01   cut 41.4  3.5 166</span></span>
<span><span class="co">#&gt; 28   080001      Pinus nigra 2025-01-01   cut 29.1 18.9   0</span></span>
<span><span class="co">#&gt; 29   080001 Pinus halepensis 2025-02-01   cut 49.4  5.8  73</span></span>
<span><span class="co">#&gt; 30   080001      Pinus nigra 2025-03-01   cut 13.0 20.0 194</span></span>
<span><span class="co">#&gt; 31   080005     Quercus ilex 2025-01-01   cut 17.2 20.6 147</span></span>
<span><span class="co">#&gt; 32   080005 Pinus halepensis 2025-01-01   cut 10.0  4.3 200</span></span>
<span><span class="co">#&gt; 33   080005     Quercus ilex 2025-02-01   cut 44.1  7.1  22</span></span>
<span><span class="co">#&gt; 34   080005 Pinus halepensis 2025-03-01   cut 45.7 11.8  17</span></span>
<span><span class="co">#&gt; 35   080001 Pinus halepensis 2025-03-01  dead 26.1 13.3  81</span></span>
<span><span class="co">#&gt; 36   080001      Pinus nigra 2025-03-01  dead 36.2 11.0  82</span></span>
<span><span class="co">#&gt; 37   080001      Pinus nigra 2025-03-01  dead 49.6  6.9  72</span></span>
<span><span class="co">#&gt; 38   080001      Pinus nigra 2025-03-01  dead 40.5 10.9  33</span></span>
<span><span class="co">#&gt; 39   080005     Quercus ilex 2025-01-01  dead 25.9  7.7   8</span></span>
<span><span class="co">#&gt; 40   080005     Quercus ilex 2025-01-01  dead 18.7 13.4  75</span></span>
<span><span class="co">#&gt; 41   080005 Pinus halepensis 2025-01-01  dead 16.7 18.0  97</span></span>
<span><span class="co">#&gt; 42   080005 Pinus halepensis 2025-02-01  dead 31.0  4.6  43</span></span>
<span><span class="co">#&gt; 43   080005     Quercus ilex 2025-03-01  dead 35.1  2.5  74</span></span>
<span><span class="co">#&gt; 44   080005     Quercus ilex 2025-03-01  dead  7.1  7.6  69</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="indicators">Indicators<a class="anchor" aria-label="anchor" href="#indicators"></a>
</h2>
<div class="section level3">
<h3 id="indicator-definition-table">Indicator definition table<a class="anchor" aria-label="anchor" href="#indicator-definition-table"></a>
</h3>
<p>All the information regarding which indicators are included in the
package and their requirements can be found in the data table
<code>indicator_definition</code>. For each indicator, it includes:</p>
<ul>
<li>Indicator name</li>
<li>Method of estimation</li>
<li>Interpretation</li>
<li>Output units</li>
<li>Person responsible of its implementation in the package, who is to
be contacted in case of issues/doubts.</li>
<li>Variable names required for its estimation (grouped by input data
frame)</li>
</ul>
</div>
<div class="section level3">
<h3 id="variable-definition-table">Variable definition table<a class="anchor" aria-label="anchor" href="#variable-definition-table"></a>
</h3>
<p>The type and units of all input variables can be found in table
<code>variable_definition</code>.</p>
</div>
<div class="section level3">
<h3 id="indicator-functions">Indicator functions<a class="anchor" aria-label="anchor" href="#indicator-functions"></a>
</h3>
<p>Each indicator is implemented in the package as an <strong>internal
function</strong>, maintained by the responsible person. This functions
is not directly accessible to the user, but is called via
<code><a href="../reference/estimate_indicators.html">estimate_indicators()</a></code> (see below).</p>
</div>
<div class="section level3">
<h3 id="additional-parameters">Additional parameters<a class="anchor" aria-label="anchor" href="#additional-parameters"></a>
</h3>
<p>The estimation of indicators may require other information in
addition to the input data frame. Table
<code>additional_parameters</code> contains the description of
additional parameters for those functions that require them. The way
these parameters are specified is described below.</p>
</div>
</div>
<div class="section level2">
<h2 id="indicator-estimation-procedure">Indicator estimation procedure<a class="anchor" aria-label="anchor" href="#indicator-estimation-procedure"></a>
</h2>
<p>The general procedure for the estimation of forest indicators follows
three main steps, which we illustrate in the following subsections:</p>
<div class="section level3">
<h3 id="step-1-choose-target-indicators-and-examine-their-requirements">Step 1: Choose target indicators and examine their requirements<a class="anchor" aria-label="anchor" href="#step-1-choose-target-indicators-and-examine-their-requirements"></a>
</h3>
<p>The first step is to decide which indicators are to be estimated. The
list of all indicators is given in table
<code>indicator_definition</code>. Additionally, you can examine the
names of the indicators in the package that could be estimated with your
data by calling function <code><a href="../reference/available_indicators.html">available_indicators()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/available_indicators.html">available_indicators</a></span><span class="op">(</span>plant_dynamic_input <span class="op">=</span> <span class="va">example_plant_dynamic_input</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "basal_area"                   "carbon_stock"                </span></span>
<span><span class="co">#&gt;  [3] "density_dead_wood"            "dominant_tree_diameter"      </span></span>
<span><span class="co">#&gt;  [5] "dominant_tree_height"         "hart_becking_index"          </span></span>
<span><span class="co">#&gt;  [7] "mean_tree_height"             "quadratic_mean_tree_diameter"</span></span>
<span><span class="co">#&gt;  [9] "timber_harvest"               "tree_density"</span></span></code></pre></div>
<p>Say we decide to estimate the <em>timber harvest volume</em>
(i.e. indicator <code>"timber_harvest"</code>) and the <em>density of
dead wood</em> (i.e. indicator <code>"density_dead_wood"</code>).</p>
<p>We may need to check which data inputs are required, their units,
etc. We can find this information using function
<code><a href="../reference/show_information.html">show_information()</a></code>, for example:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/show_information.html">show_information</a></span><span class="op">(</span><span class="st">"timber_harvest"</span><span class="op">)</span></span>
<span><span class="co">#&gt; A) DEFINITION</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Name:  timber_harvest </span></span>
<span><span class="co">#&gt;    Estimation:  NA </span></span>
<span><span class="co">#&gt;    Interpretation:  Volume over bark of harvested wood </span></span>
<span><span class="co">#&gt;    Output units:  NA </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; B) DATA INPUTS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; B.1) Stand-level static data: &lt;NONE&gt;</span></span>
<span><span class="co">#&gt; B.2) Stand-level dynamic data: &lt;NONE&gt;</span></span>
<span><span class="co">#&gt; B.3) Plant-level static data: &lt;NONE&gt;</span></span>
<span><span class="co">#&gt; B.4) Plant-level dynamic data:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  variable      type   units</span></span>
<span><span class="co">#&gt;       dbh   numeric      cm</span></span>
<span><span class="co">#&gt;         h   numeric       m</span></span>
<span><span class="co">#&gt;         n   numeric ind./ha</span></span>
<span><span class="co">#&gt;     state character       -</span></span>
<span><span class="co">#&gt;                                                    description</span></span>
<span><span class="co">#&gt;                                      diameter at breast height</span></span>
<span><span class="co">#&gt;                                                         height</span></span>
<span><span class="co">#&gt;                                                        density</span></span>
<span><span class="co">#&gt;  state of the cohort, tree, … can be 'live', 'cut', or 'death'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; C) ADDITIONAL PARAMETERS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;         parameter default_value</span></span>
<span><span class="co">#&gt;          province          &lt;NA&gt;</span></span>
<span><span class="co">#&gt;      min_tree_dbh          &lt;NA&gt;</span></span>
<span><span class="co">#&gt;      max_tree_dbh          &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  targeted_species          &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  excluded_species          &lt;NA&gt;</span></span>
<span><span class="co">#&gt;                                                                           description</span></span>
<span><span class="co">#&gt;                                                       Spanish province (numeric code)</span></span>
<span><span class="co">#&gt;             Minimum  tree diameter to be included in the estimation of harvest volume</span></span>
<span><span class="co">#&gt;  Maximum  tree diameter to be included in the estimation of density of harvest volume</span></span>
<span><span class="co">#&gt;                          Tree species included in the calculation of harvested volume</span></span>
<span><span class="co">#&gt;                      Tree species not included in the calculation of harvested volume</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-2-assemble-inputs-and-define-values-for-additional-parameters">Step 2: Assemble inputs and define values for additional
parameters<a class="anchor" aria-label="anchor" href="#step-2-assemble-inputs-and-define-values-for-additional-parameters"></a>
</h3>
<p>Once the requested format and content of inputs is know, it is the
responsibility of the user to build the necessary data frames to be used
as inputs. In our case, we will use
<code>example_plant_dynamic_input</code> that already contains the
necessary data for the estimation of the two indicators.</p>
<p>We will normally need to define additional parameters to fine-tune
the estimation of indicators, For that, we define a <strong>named
list</strong> where each element corresponds to a different indicator
and, in turn, contains a named list of parameters. In our case:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>timber_harvest <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>province <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>,</span>
<span>               density_dead_wood <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>max_tree_dbh <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-3-call-general-estimation-function">Step 3: Call general estimation function<a class="anchor" aria-label="anchor" href="#step-3-call-general-estimation-function"></a>
</h3>
<p>Once we have our inputs ready, the indicators are estimated by
calling function <code><a href="../reference/estimate_indicators.html">estimate_indicators()</a></code> as follows:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_indicators.html">estimate_indicators</a></span><span class="op">(</span>indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"timber_harvest"</span>, <span class="st">"density_dead_wood"</span><span class="op">)</span>,</span>
<span>                           plant_dynamic_input <span class="op">=</span> <span class="va">example_plant_dynamic_input</span>,</span>
<span>                           timber_volume_function <span class="op">=</span> <span class="fu">forestindicators</span><span class="fu">:::</span><span class="va">.ifn_volume_forestindicators</span>,</span>
<span>                           additional_params <span class="op">=</span> <span class="va">params</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Checking overall inputs</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Checking inputs for 'timber_harvest'.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Checking inputs for 'timber_harvest'. <span style="color: #B2B2B2;">[5ms]</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Checking overall inputs<span style="color: #00BB00;">✔</span> Checking overall inputs <span style="color: #B2B2B2;">[27ms]</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Processing 'timber_harvest'.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Checking inputs for 'density_dead_wood'.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Checking inputs for 'density_dead_wood'. <span style="color: #B2B2B2;">[9ms]</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Processing 'timber_harvest'.<span style="color: #00BB00;">✔</span> Processing 'timber_harvest'. <span style="color: #B2B2B2;">[122ms]</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Processing 'density_dead_wood'.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Processing 'density_dead_wood'. <span style="color: #B2B2B2;">[20ms]</span></span></span></code></pre></div>
<p>Note that <code>"timber_harvest"</code> requires specifying the
function to be used to calculate timber volumes,
i.e. <code>timber_volume_function</code>, for which in our case we use a
predefined package function.</p>
<p>The result of the estimation is the following:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   id_stand date       timber_harvest density_dead_wood</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 080001   2025-01-01          51.9                187</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 080001   2025-02-01          29.2                 73</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 080001   2025-03-01          25.6                 <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 080005   2025-01-01          34.4                 <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 080005   2025-02-01           6.98                22</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 080005   2025-03-01          11.3                 17</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miquel De Cáceres, Núria Aquilué.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
